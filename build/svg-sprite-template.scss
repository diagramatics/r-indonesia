{{#hasMixin}}

{{#hasCommon}}.{{commonName}} {
	@include {{mixinName}};
}

{{/hasCommon}}{{/hasMixin}}{{^hasMixin}}{{#hasCommon}}.{{/hasCommon}}{{^hasCommon}}%{{/hasCommon}}{{commonName}} {
	background: url({{{sprite}}}) no-repeat;
}

{{/hasMixin}}

@mixin icon-sprite($name, $scale: 1) {
	background: url({{{sprite}}}) no-repeat;
	background-size: ({{spriteWidth}}px * $scale) ({{spriteHeight}}px * $scale);

	{{#shapes}}@if $name == "{{name}}"{{#selector.shape}}{{^last}},
	{{/last}}{{/selector.shape}} {
		{{^hasCommon}}{{#hasMixin}}{{/hasMixin}}{{^hasMixin}}@extend %{{commonName}};{{/hasMixin}}
		{{/hasCommon}}background-position: {{position.relative.xy}};{{#dimensions.inline}}

		@if ($scale != 0) {
			width: {{width.outer}}px * $scale;
			height: {{height.outer}}px * $scale;
		}{{/dimensions.inline}}
	}{{#dimensions.extra}}

	{{#selector.dimensions}}{{expression}}{{^last}},
	{{/last}}{{/selector.dimensions}} {

		@if $scale != 0 {
			width: {{width.outer}}px * $scale;
			height: {{height.outer}}px * $scale;
		}
	}{{/dimensions.extra}}

	{{/shapes}}
}

@mixin icon-sprite-background-position($name) {
	{{#shapes}}
	@if $name == "{{name}}" {
		background-position: {{position.relative.xy}};
	}
	{{/shapes}}
}

@mixin icon-sprite-scale($name, $scale) {
	@if ($scale != 0) {
		{{#shapes}}
		@if $name == "{{name}}" {
			background-size: ({{spriteWidth}}px * $scale) ({{spriteHeight}}px * $scale);
			{{#dimensions.inline}}
			width: {{width.outer}}px * $scale;
			height: {{height.outer}}px * $scale;
			{{/dimensions.inline}}
		}
		{{/shapes}}
	}
}
