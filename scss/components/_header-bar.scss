#header {
  position: relative;
  min-height: $header-height;
  border-bottom: 0;
  background: linear-gradient(to bottom, rgba(black, .4) 0%, rgba(black, .4) 100%),
              //repeating-linear-gradient(-60deg, transparent, transparent 2px, rgba(white, .3) 2px, rgba(white, .3) 4px),
              url(%%header-new2%%) no-repeat center;
  background-size: cover;
  color: white;
  padding-bottom: $header-offset-height;
  transition: all .4s ease-in-out;
  z-index: auto;

  // &:before {
  //   content: "";
  //   position: absolute;
  //   top: 0;
  //   right: 0;
  //   bottom: 0;
  //   left: 0;
  //   background: linear-gradient(to bottom, transparent 50%, white), repeating-linear-gradient(-60deg, transparent, transparent 2px, rgba(white, .3) 2px, rgba(white, .3) 4px), url(%%header-new%%) no-repeat center;
  //   opacity: .2;
  // }
  //
  //

  // The info of the header background image
  &:before {
    content: "The background image description here.";
    position: absolute;
    bottom: 2rem;
    left: 2rem;
    padding: 1rem 2rem;
    font-size: 1.6rem;
    background: rgba(black, .4);
    opacity: 0;
    transition: all .4s ease-in-out;
  }

  &:after {
    content: " ";
    display: table;
    clear: both;
  }

  &:target {
    // Show the header image more clearly when this is enabled
    padding-bottom: $header-offset-height * 4;

    &:before {
      opacity: 1;
      transition-delay: .4s;
    }

    & ~ .content {
      margin-top: 1rem;
    }
  }
}

.md a[href="#header"] {
  position: absolute;
  right: 2rem;
  bottom: 100%;
  margin-bottom: 1rem;
  font-size: 0;
  z-index: 1;
  @include icon-sprite("image--white");

  &:hover {
    border-bottom-width: 2px;
  }

  #header:target + .side & {
    z-index: 0;
  }
}
.md a[href="#header2"] {
  position: absolute;
  right: 2rem;
  bottom: 100%;
  margin-bottom: 1rem;
  font-size: 0;
  @include icon-sprite("image--white");
  opacity: 0;
  transition: all .2s ease-in-out;
  border-bottom: 2px solid $color-red;

  #header:target + .side & {
    opacity: 1;
  }
}

#sr-header-area {
  position: relative;
  width: 100%;
  height: 24px;
  border-bottom: 0;
  background: none;
  font-size: 1rem;
  line-height: 24px;

  &:after {
    content: "";
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    width: 95%;
    margin: auto;
    height: 1px;
    background: rgba($page-background-color, .1);
  }

  > .width-clip {
    position: relative; // So the parent :before background can get displayed

    &:after {
      display: table;
      clear: both;
      content: "";
    }
  }

  .sr-list {
    max-width: 93%;
    float: left;

    .choice {
      color: white;
    }
  }



  .drop-choices.srdrop {
    display: block;
    right: 20px;
    left: 20px !important; // overriding the element inline style
    margin-left: 0;
    border: 0;
    opacity: 0;
    background: rgba($page-background-color, .95);
    color: black;
    font-size: 1.1rem;
    box-shadow: 0 1px 1px rgba(black, .2);
    white-space: initial;
    transform: translateY(-110%);
    transform-origin: top;
    transition: all .2s ease-in-out;

    &.inuse {
      opacity: 1;
      transform: translateY(0);
    }

    .choice {
      display: inline-block;
      color: currentColor;
      padding: 1em;

      &:hover {
        background: $color-red--light;
        color: white;
      }

      &.bottom-option {
        float: right;
        margin-top: 10px;
        border-top: 0;
      }
    }
  }
}

.dropdown.srdrop {
  display: inline-block;
  margin-right: 1em;
  transition: all .2s ease-in-out;

  &:hover {
    background: $color-red;
    color: white;

    .selected {
      max-width: 150px;
      opacity: 1;
      transform: translateX(0);
    }
  }

  &:before {
    @include icon-sprite("bars");
    content: "";
    display: inline-block;
    margin-top: -2px;
    vertical-align: middle;
  }

  .selected {
    position: absolute;
    max-width: 0;
    margin: 0;
    padding: 0 .5rem;
    opacity: 0;
    z-index: 1;
    background: $color-red;
    background-image: none;
    color: white;
    transform: translateX(-100px);
    transition: all .2s ease-in-out;
  }
}


.sr-bar a {
  color: currentColor;
}

#sr-more-link {
  position: static;
  max-width: 7%;
  float: left;
  background: none;
  color: currentColor;
}

#header-bottom-left,
#header-bottom-right {
  float: left;
  position: relative;
  padding: 0 1em;
}

#header-bottom-left {
  width: 75%;
  padding: 1rem;
  font-size: 1.4rem;
}

#header-bottom-right {
  float: right;
  width: 25%;
  margin-top: 1rem;
  margin-left: auto;
  background: none;
  color: white;
  font-size: 1.2rem;
  text-align: right;

  a {
    color: currentColor;
  }

  > .user {
    display: inline-block;
    padding: .5em 0;

    a {
      font-size: 1.4rem;
      padding-right: .5rem;
    }

    + .separator {
      display: block;
      clear: both;
      height: 0;
    }
  }

  > .separator {
    // display: none;
    color: transparent;
  }

  .beta-hint {
    display: inline-block;
    position: static;
    padding-right: .5rem;
  }

  .beta-link {
    position: static;
  }
}

#mail,
#modmail {
  font-size: 0;
}

#mail {
  top: 5px;

  &.nohavemail {
    @include icon-sprite("email");
  }

  &.havemail {
    @include icon-sprite("email--main");
  }
}

#modmail {
  &.nohavemail {
    @include icon-sprite("reddit");
  }

  &.havemail {
    @include icon-sprite("reddit--main");
  }
}

.pagename {
  font-family: $font-family-heading;
  font-size: 2.8rem;
  font-weight: normal;
  letter-spacing: 4px;
  text-align: center;
}
